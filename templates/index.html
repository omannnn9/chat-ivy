<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ivy â€“ Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
  <div class="container">
    <aside class="left-panel">
      <img src="{{ url_for('static', filename='ivy-profile.png') }}" class="ivy-pic" alt="Ivy Profile Picture" />
      <h1>Ivy</h1>
      <p class="bio">
        This is Ivy â€” a smart, Gen Z-style financial chatbot built as a fun side project to make conversations about money and loans more approachable. Ivy is here to break down complex financial topics like APR, loan terms, and EMIs into simple, friendly advice anyone can understand â€” no jargon, no pressure.

With a chatty tone, emoji-rich replies, and real-time calculations, Ivy is designed to feel more like a helpful friend than a traditional financial tool. Whether youâ€™re asking â€œwhatâ€™s a loan?â€ or trying to estimate monthly payments, Ivy answers clearly, casually, and without making things awkward.

Even without internet or AI access, Ivy can still help with basic questions thanks to an offline knowledge base full of helpful examples and fun fallback responses. Ivy also keeps the conversation light â€” saying hello, responding to emojis, and offering tips with personality and clarity.

This is not your average chatbot â€” Ivy is built to make finance feel friendly, personal, and even a little fun. Whether youâ€™re planning your first big purchase or just exploring what a loan means, Ivy is always here to guide you through it with confidence and a smile ğŸ’¬ğŸ’¸.
      </p>
      <div id="ivy-3d" class="ivy-3d-container"></div>
    </aside>

    <main class="chat-panel">
      <div id="chat-box">
        <div class="message ivy">
          <img src="{{ url_for('static', filename='ivy-profile.png') }}" class="chat-pfp" alt="Ivy Avatar" />
          <span>Hey hey! ğŸ‘‹ Iâ€™m Ivy. Ask me anything about loans ğŸ’¸</span>
        </div>
      </div>

      <form id="chat-form">
        <input type="text" id="chat-input" placeholder="Type here..." autocomplete="off" />
        <button type="submit" id="send-button">Send</button>
      </form>

      <footer>
        Contact: <a href="mailto:dilloooman26@gmail.com">dilloooman26@gmail.com</a>
      </footer>
    </main>
  </div>

  <!-- âœ… FIXED: Proper Three.js and GLTFLoader ES modules -->
 <script type="module">
  import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.module.js';
  import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.152.2/examples/jsm/loaders/GLTFLoader.js';

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ alpha: true });
  renderer.setSize(250, 250);

  const container = document.getElementById("ivy-3d");
  container.appendChild(renderer.domElement);

  const loader = new GLTFLoader();
  loader.load('/static/ivy-model.glb', (gltf) => {
    const model = gltf.scene;
    scene.add(model);
    camera.position.z = 2;

    function animate() {
      requestAnimationFrame(animate);
      model.rotation.y += 0.01;
      renderer.render(scene, camera);
    }

    animate();
  }, undefined, (err) => {
    console.error("âŒ 3D model failed to load:", err);
  });
</script>

  <!-- ğŸ’¬ Chat logic (keep chat-only logic in here) -->
  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
