<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ivy – Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
  <div class="container">
    <aside class="left-panel">
      <img src="{{ url_for('static', filename='ivy-profile.png') }}" class="ivy-pic" alt="Ivy Profile Picture" />
      <h1>Ivy</h1>
      <p class="bio">
        This is Ivy — a Gen Z-style chatbot created to make learning about loans and money feel easy, friendly, and actually fun 💸✨. Unlike traditional financial tools, Ivy chats like a real person, using emojis, casual language, and a super supportive tone to explain complex topics like APR, loan terms, monthly payments, and more. Whether you’re asking “what even is a loan?” or trying to calculate how much you’ll pay every month, Ivy gives clear, helpful answers — without the boring jargon or pressure.

Built as a side project with love and creativity, Ivy is designed for students, young adults, and anyone who wants to understand money better without feeling overwhelmed. Even when there’s no internet or AI access, Ivy still works thanks to a detailed offline knowledge base — covering over 200 common questions and answers about loans, interest rates, types of credit, and more 🧠.

From friendly greetings and emojis to real-time calculations and follow-up tips, Ivy brings personality and clarity to every interaction. Whether you’re just curious or seriously planning your finances, Ivy is your go-to digital loan buddy who explains things your way. Chat, ask questions, and explore — Ivy’s always ready to help 💬🔥.
      <div id="ivy-3d" class="ivy-3d-container"></div>
    </aside>

    <main class="chat-panel">
      <div id="chat-box">
        <div class="message ivy">
          <img src="{{ url_for('static', filename='ivy-profile.png') }}" class="chat-pfp" alt="Ivy Avatar" />
          <span>Hey hey! 👋 I’m Ivy. Ask me anything about loans 💸</span>
        </div>
      </div>

      <form id="chat-form">
        <input type="text" id="chat-input" placeholder="Type here..." autocomplete="off" />
        <button type="submit" id="send-button">Send</button>
      </form>

      <footer>
        Contact: <a href="mailto:dilloooman26@gmail.com">dilloooman26@gmail.com</a>
      </footer>
    </main>
  </div>

  <!-- ✅ FIXED: Proper Three.js and GLTFLoader ES modules -->
 <script type="module">
  import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.module.js';
  import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.152.2/examples/jsm/loaders/GLTFLoader.js';

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ alpha: true });
  renderer.setSize(250, 250);

  const container = document.getElementById("ivy-3d");
  container.appendChild(renderer.domElement);

  const loader = new GLTFLoader();
  loader.load('/static/ivy-model.glb', (gltf) => {
    const model = gltf.scene;
    scene.add(model);
    camera.position.z = 2;

    function animate() {
      requestAnimationFrame(animate);
      model.rotation.y += 0.01;
      renderer.render(scene, camera);
    }

    animate();
  }, undefined, (err) => {
    console.error("❌ 3D model failed to load:", err);
  });
</script>

  <!-- 💬 Chat logic (keep chat-only logic in here) -->
  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
